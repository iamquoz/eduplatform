(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{276:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));n(1);var c=n(461),r=n(462),a=n(4),i=n.n(a),s=n(2);function d(t){var e=t.theories,n=t.currIDTheory,a=t.setCurrIDTheory,d=t.setShowSidebar;return Object(s.jsx)(s.Fragment,{children:e.map((function(t){return Object(s.jsx)(c.a,{className:i()({chosenSidebar:n===t.theoryid}),children:Object(s.jsx)(r.a,{onClick:function(){a(t.theoryid),d(!1)},children:t.title})},t.theoryid)}))})}},277:function(t,e,n){"use strict";e.a=n.p+"static/media/exit.f6ba0030.svg"},278:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var c=n(257),r=n(11),a=n(1),i=n(330),s=n(24),d=n.n(s),o=n(4),j=n.n(o),l=n(276),u=n(463),h=n(464),b=n(465),O=n(461),x=n(462),f=n(2),g=function(t){var e=t.datum,n=t.className,c=t.width;if(void 0===e)return Object(f.jsx)(f.Fragment,{});var r=["\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e","\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e"],a=["rgba(75, 192, 192, 0.5)","rgba(255, 99, 132, 0.5)"],s={maintainAspectRatio:!1},d={labels:r,datasets:[{data:[e.correct.reduce((function(t,e){return t+e}),0),e.total.reduce((function(t,e){return t+e}),0)-e.correct.reduce((function(t,e){return t+e}),0)],backgroundColor:a}]},o={labels:r,datasets:[{data:[e.correct[0],e.total[0]-e.correct[0]],backgroundColor:a}]},j={labels:r,datasets:[{data:[e.correct[1],e.total[1]-e.correct[1]],backgroundColor:a}]},l={labels:r,datasets:[{data:[e.correct[2],e.total[2]-e.correct[2]],backgroundColor:a}]};return Object(f.jsxs)("div",{className:n,style:{textAlign:"center"},children:[Object(f.jsx)("div",{className:"statsMrgn",children:Object(f.jsxs)(u.a,{children:[Object(f.jsx)("div",{style:{textAlign:"center"},children:"\u0421\u0443\u043c\u043c\u0430"}),Object(f.jsx)("div",{style:{textAlign:"center"},children:Object(f.jsx)(i.a,{data:d,width:c,height:c,options:s})})]})}),Object(f.jsx)("div",{className:"statsMrgn",children:Object(f.jsxs)(u.a,{children:[Object(f.jsx)("div",{style:{textAlign:"center"},children:"\u0411\u0430\u0437\u043e\u0432\u044b\u0439"}),Object(f.jsx)("div",{style:{textAlign:"center"},children:Object(f.jsx)(i.a,{data:o,width:c,height:c,options:s})})]})}),Object(f.jsx)("div",{className:"statsMrgn",children:Object(f.jsxs)(u.a,{children:[Object(f.jsx)("div",{style:{textAlign:"center"},children:"\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0439"}),Object(f.jsx)("div",{style:{textAlign:"center"},children:Object(f.jsx)(i.a,{data:j,width:c,height:c,options:s})})]})}),Object(f.jsx)("div",{className:"statsMrgn",children:Object(f.jsxs)(u.a,{children:[Object(f.jsx)("div",{style:{textAlign:"center"},children:"\u0412\u044b\u0441\u043e\u043a\u0438\u0439"}),Object(f.jsx)("div",{style:{textAlign:"center"},children:Object(f.jsx)(i.a,{data:l,width:c,height:c,options:s})})]})}),Object(f.jsxs)("div",{style:{paddingTop:"40px",paddingLeft:"10px",paddingBottom:"80px"},children:["\u0421\u0443\u043c\u043c\u0430 \u0432\u0441\u0435\u0445 \u0443\u0440\u043e\u0432\u043d\u0435\u0439 (\u0432\u0441\u0435\u0433\u043e / \u043f\u0440\u0430\u0432. / \u043d\u0435\u043f\u0440\u0430\u0432.): ",d.datasets[0].data[0]+d.datasets[0].data[1]," / ",d.datasets[0].data[0]," / ",d.datasets[0].data[1],Object(f.jsx)("br",{}),"\u0411\u0430\u0437\u043e\u0432\u044b\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c: ",o.datasets[0].data[0]+o.datasets[0].data[1]," / ",o.datasets[0].data[0]," / ",o.datasets[0].data[1],Object(f.jsx)("br",{}),"\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c: ",j.datasets[0].data[0]+j.datasets[0].data[1]," / ",j.datasets[0].data[0]," / ",j.datasets[0].data[1],Object(f.jsx)("br",{}),"\u0412\u044b\u0441\u043e\u043a\u0438\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c: ",l.datasets[0].data[0]+l.datasets[0].data[1]," / ",l.datasets[0].data[0]," / ",l.datasets[0].data[1],Object(f.jsx)("br",{}),Object(f.jsxs)("b",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0435\u0443\u0434\u0430\u0447\u043d\u044b\u0445 \u043f\u043e\u043f\u044b\u0442\u043e\u043a: ",e.totalAttempts]})]})]})};function p(t){var e=t.student,n=t.showSidebar,i=t.windowWidth,s=t.width,o=t.setShowSidebar,p=Object(a.useState)([]),y=Object(r.a)(p,2),m=y[0],v=y[1],w=Object(a.useState)([]),S=Object(r.a)(w,2),k=S[0],A=S[1],C=Object(a.useState)(0),I=Object(r.a)(C,2),N=I[0],T=I[1];function D(t){var e={theoryid:0,total:[0,0,0],correct:[0,0,0],totalAttempts:0};t.data.forEach((function(t){d.a.get("/st/theories/"+t.theoryid).then((function(t){return A((function(e){return[].concat(Object(c.a)(e),[t.data])}))})).catch((function(t){return console.log(t)})),e.totalAttempts+=t.totalAttempts;for(var n=0;n<3;n++)e.total[n]+=t.total[n],e.correct[n]+=t.correct[n]})),v([e].concat(Object(c.a)(t.data)))}return Object(a.useEffect)((function(){A([]),console.log(e),0===e.studentID?(d.a.get("/st/self").then((function(t){return D(t)})).catch((function(t){return console.log(t)})),d.a.get("/st/self/done").then((function(t){return console.log(t)})).catch((function(t){return console.log(t)}))):d.a.get("/api/students/"+e.studentID).then((function(t){return D(t)})).catch((function(t){return console.log(t)}))}),[e]),Object(f.jsx)("div",{children:Object(f.jsxs)(h.a,{style:{marginRight:"0px"},children:[(n||i>768)&&Object(f.jsx)(u.a,{className:"sidebar",children:Object(f.jsxs)(b.a,{vertical:!0,children:[Object(f.jsx)(O.a,{className:j()({chosenSidebar:0===N}),children:Object(f.jsx)(x.a,{onClick:function(){T(0),o(!1)},children:"\u041e\u0431\u0449\u0435\u0435"})}),Object(f.jsx)(l.a,{theories:k,currIDTheory:N,setCurrIDTheory:T,setShowSidebar:o})]})}),Object(f.jsx)(u.a,{children:Object(f.jsx)(g,{datum:m.find((function(t){return t.theoryid===N})),className:j()({dontShowMd:n}),width:s})})]})})}},473:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return M}));var c=n(11),r=n(25),a=n(35),i=n(1),s=n(7),d=n(468),o=n(469),j=n(472),l=n(466),u=n(467),h=n(255),b=n(294),O=n(278),x=n(257),f=n(266),g=n(296),p=n(24),y=n.n(p),m=n(464),v=n(463),w=n(465),S=n(249),k=n(250),A=n(251),C=n(252),I=n(276),N=n(69),T=n.n(N),D=n(2);function W(t){var e=t.showSidebar,n=t.windowWidth,r=t.setShowSidebar,a=Object(i.useState)([]),s=Object(c.a)(a,2),d=s[0],o=s[1],j=Object(i.useState)(0),l=Object(c.a)(j,2),u=l[0],b=l[1],O=Object(i.useState)([]),p=Object(c.a)(O,2),N=p[0],W=p[1],E=Object(i.useState)([]),M=Object(c.a)(E,2),F=M[0],R=M[1],L=Object(i.useState)(""),H=Object(c.a)(L,2),J=H[0],q=H[1];return Object(i.useEffect)((function(){o([]),y.a.get("/st/assignment").then((function(t){t.data.forEach((function(t){R((function(e){return[].concat(Object(x.a)(e),[{theoryid:t.theoryid,index:0,correct:"",tries:t.tries.map((function(t){return 3-t}))}])})),y.a.get("/st/theories/"+t.theoryid).then((function(t){return o((function(e){return[].concat(Object(x.a)(e),[t.data])}))})).catch((function(t){return console.log(t)})),t.tasks.forEach((function(e){y.a.get("/st/tasks/"+e).then((function(e){console.log(e),W((function(n){return[].concat(Object(x.a)(n),[{theoryid:t.theoryid,task:e.data}])}))})).catch((function(t){return console.log(t)}))}))}))})).catch((function(t){return console.log(t)}))}),[]),Object(D.jsxs)(m.a,{style:{marginRight:"0px"},children:[(e||n>768)&&Object(D.jsx)(v.a,{className:"sidebar",children:Object(D.jsx)(w.a,{vertical:!0,children:Object(D.jsx)(I.a,{theories:d,currIDTheory:u,setCurrIDTheory:b,setShowSidebar:r})})}),Object(D.jsx)(v.a,{children:0!==u&&Object(D.jsxs)("div",{style:{paddingTop:"20px",paddingLeft:"15px"},children:[Object(D.jsx)(T.a,{parserOptions:{commonmark:!0},children:d.find((function(t){return t.theoryid===u})).body}),Object(D.jsx)("hr",{}),Object(D.jsxs)(S.a,{onSubmit:function(t){t.preventDefault();var e=N.filter((function(t){return t.theoryid===u}))[F.find((function(t){return t.theoryid===u})).index].task;e.Correct=J,y.a.post("/st/assignment",{theoryid:u,task:e}).then((function(t){R(F.map((function(e){return e.theoryid===u?Object(g.a)(Object(g.a)({},e),{},{tries:Object.values(Object(g.a)(Object(g.a)({},e.tries),{},Object(f.a)({},e.index,t.data.tries)))}):e}))),0===t.data.Int?!1===e.isOpen&&y.a.post("/api/StGetAnswers",{TaskID:e.ID}).then((function(t){R(F.map((function(e){return e.theoryid===u?Object(g.a)(Object(g.a)({},e),{},{correct:t.data.Task.Answer}):e})))})):t.data.Int})).catch((function(t){return console.log(t)}))},children:[Object(D.jsxs)(k.a,{children:[Object(D.jsx)(A.a,{children:N.filter((function(t){return t.theoryid===u}))[F.find((function(t){return t.theoryid===u})).index].task.question}),Object(D.jsx)("hr",{}),Object(D.jsx)(C.a,{onChange:function(t){return q(t.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0442\u0432\u0435\u0442",type:"textarea",style:{height:"200px"}},F)]}),Object(D.jsxs)(m.a,{children:[Object(D.jsx)(v.a,{style:{alignSelf:"center"},children:N.filter((function(t){return t.theoryid===u}))[F.find((function(t){return t.theoryid===u})).index].task.isOpen?Object(D.jsx)("span",{children:"\u041e\u0442\u043a\u0440\u044b\u0442\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435: \u043e\u0434\u043d\u0430 \u043f\u043e\u043f\u044b\u0442\u043a\u0430"}):Object(D.jsxs)(D.Fragment,{children:[-2===F.find((function(t){return t.theoryid===u})).tries[F.find((function(t){return t.theoryid===u})).index]?Object(D.jsx)("span",{style:{color:"green"},children:"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442!"}):Object(D.jsxs)("span",{children:[" \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0441\u0442\u0430\u0432\u0448\u0438\u0445\u0441\u044f \u043f\u043e\u043f\u044b\u0442\u043e\u043a: ",F.find((function(t){return t.theoryid===u})).tries[F.find((function(t){return t.theoryid===u})).index]," "]}),Object(D.jsx)("br",{}),0===F.find((function(t){return t.theoryid===u})).tries[F.find((function(t){return t.theoryid===u})).index]&&Object(D.jsxs)("span",{children:[Object(D.jsx)("b",{children:"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442:"})," ",F.find((function(t){return t.theoryid===u})).correct]})]})}),Object(D.jsx)(v.a,{children:Object(D.jsx)(h.a,{type:"submit",style:{float:"right",padding:"10px 20px"},children:0===F.find((function(t){return t.theoryid===u})).tries[F.find((function(t){return t.theoryid===u})).index]||-2===F.find((function(t){return t.theoryid===u})).tries[F.find((function(t){return t.theoryid===u})).index]||N.filter((function(t){return t.theoryid===u}))[F.find((function(t){return t.theoryid===u})).index].task.isOpen?"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0432\u043e\u043f\u0440\u043e\u0441":"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"})})]})]})]})})]})}var E=n(277);function M(){var t=Object(s.g)(),e=Object(i.useState)(!0),n=Object(c.a)(e,2),x=n[0],f=n[1],g=Object(i.useState)(window.innerWidth),p=Object(c.a)(g,2),y=p[0],m=p[1],v=Object(b.a)("resize"),w=Object(i.useState)(200),S=Object(c.a)(w,2),k=S[0],A=S[1];v((function(t){m(window.innerWidth),150!==k&&A(150)}));var C=Object(i.useState)(1),I=Object(c.a)(C,2),N=I[0],T=I[1];return Object(D.jsxs)("div",{children:[Object(D.jsxs)(d.a,{color:"dark",dark:!0,children:[Object(D.jsx)(o.a,{onClick:function(){return t.push("/")},style:{color:"white"},children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"}),Object(D.jsxs)("div",{className:"iconRow",children:[Object(D.jsx)(r.b,{id:"txt",onClick:function(){return T(2===N?1:2)},style:{color:"white",paddingTop:"5px"},children:1===N?"\u0417\u0430\u0434\u0430\u043d\u0438\u044f":"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"}),Object(D.jsx)(j.a,{placement:"bottom",target:"txt",children:1===N?"\u0420\u0435\u0448\u0430\u0439\u0442\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f, \u0432\u044b\u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u043c":"\u041f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0439\u0442\u0435 \u0441\u0432\u043e\u044e \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443"}),Object(D.jsx)("img",{src:E.a,alt:"\u0412\u044b\u0439\u0442\u0438",id:"exitic",onClick:function(){return a.a.logout()}}),Object(D.jsx)(j.a,{placement:"bottom",target:"exitic",children:"\u0412\u044b\u0439\u0442\u0438"})]})]}),Object(D.jsxs)(l.a,{activeTab:N,children:[Object(D.jsx)(u.a,{tabId:1,children:Object(D.jsx)(O.a,{student:{ID:0},showSidebar:x,windowWidth:y,width:k,setShowSidebar:f})}),Object(D.jsx)(u.a,{tabId:2,children:Object(D.jsx)(W,{showSidebar:x,windowWidth:y,setShowSidebar:f})})]}),Object(D.jsx)("div",{className:"customFooter possiblyHidden",children:Object(D.jsxs)(h.a,{style:{marginTop:"15px",marginLeft:"20px",width:"170px"},className:"possiblyHidden",onClick:function(){return f(!x)},children:[x?"\u0421\u043a\u0440\u044b\u0442\u044c":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"," \u0442\u0435\u043e\u0440\u0438\u044e"]})})]})}}}]);
//# sourceMappingURL=4.47ce0d98.chunk.js.map